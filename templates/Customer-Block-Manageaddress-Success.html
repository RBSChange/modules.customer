<h1 change:h="">${trans:m.customer.frontoffice.addresses-title,ucf}</h1>
<p class="normal">${trans:m.customer.frontoffice.addresses-instructions,ucf}</p>

<p class="buttons">
	<a class="button" change:actionlink="" block="customer_manageaddress" action="add">${trans:m.customer.frontoffice.add-address,ucf}</a>
</p>

<ul change:messages=""></ul>

<ul class="document-list">
	<li tal:define="address customer/getDefaultAddress" tal:condition="address" class="${alternateclass:addrIndex}">
		<tal:block tal:define="isDefault php: true" metal:use-macro="address" />
	</li>
	<tal:block tal:define="addresses customer/getSecondaryAddresses" tal:condition="addresses">
		<li tal:repeat="address addresses" class="${alternateclass:addrIndex}">
			<tal:block tal:define="isDefault php: false" metal:use-macro="address" />
		</li>
	</tal:block>	
</ul>

<tal:block metal:define-macro="address">
	<h2 change:h="">${structure address/getLabelAsHtml} <tal:block tal:condition="isDefault">(${trans:m.customer.frontoffice.is-default-address})</tal:block></h2>
	<ul class="address normal-margin">
		<li>${structure address/getTitle/getLabelAsHtml} ${structure address/getFirstnameAsHtml} ${structure address/getLastnameAsHtml}</li>
		<li>${structure address/getAddressLine1AsHtml}</li>
		<li tal:condition="address/getAddressLine2">${structure address/getAddressline2AsHtml}</li>
		<li tal:condition="address/getAddressLine3">${structure address/getAddressline3AsHtml}</li>
		<li>${structure address/getZipcodeAsHtml} ${structure address/getCityAsHtml}</li>
		<li tal:condition="address/getProvince">${structure address/getProvinceAsHtml}</li>
		<li>${structure address/getCountry/getLabelAsHtml}</li>
		<li tal:condition="address/getPhone">${structure address/getPhoneAsHtml}</li>
		<li tal:condition="address/getFax">${structure address/getFaxAsHtml}</li>
		<li tal:condition="address/getEmail">${structure address/getEmailAsHtml}</li>
	</ul>	
	<ul class="normal">
		<li><a change:actionlink="" action="edit" beanId="${address/getId}">${trans:m.customer.frontoffice.edit,ucf}</a></li>
		<tal:block tal:condition="not: isDefault">
			<li><a change:actionlink="" action="delete" beanId="${address/getId}">${trans:m.customer.frontoffice.delete,ucf}</a></li>
			<li><a change:actionlink="" action="setDefault" beanId="${address/getId}">${trans:m.customer.frontoffice.set-default,ucf}</a></li>
		</tal:block>
	</ul>
</tal:block>